###############################################
# Hyprlock — Minimal Waybar-like lock screen  #
# Path: ~/.config/hypr/hyprlock.conf          #
###############################################

# Palette (mirrors Waybar style.css)
#  - Background: rgba(18, 18, 24, 0.65)
#  - Foreground: #cdd6f4
#  - Accent:     #89b4fa
#  - Subtle:     #a6adc8
#  - Warning:    #f9e2af
#  - Error:      #f38ba8

general {
    grace = 2                    # seconds to ignore wrong keystrokes after wake
    hide_cursor = true           # hide cursor while locked
    no_fade_in = false
    ignore_empty_input = true
}

# Soft, translucent background with light blur to echo Waybar’s panel
background {
    # monitor =
    color = rgba(18, 18, 24, 0.70)
    blur_passes = 2
    blur_size = 6
}

# Big time centered
label {
    # monitor =
    text = cmd[update:1000] date +"%H:%M"
    color = rgba(205, 214, 244, 1.0)     # #cdd6f4
    font_size = 64
    font_family = "JetBrainsMono Nerd Font Propo, JetBrainsMono Nerd Font, Inter, Noto Sans"
    position = 0, -110
    halign = center
    valign = center
}

# Smaller date under the time
label {
    text = cmd[update:1000] date +"%a %b %d"
    color = rgba(166, 173, 200, 1.0)     # #a6adc8
    font_size = 16
    font_family = "Inter, Noto Sans, JetBrainsMono Nerd Font"
    position = 0, -36
    halign = center
    valign = center
}

# User hint above the field (optional, subtle)
label {
    text = "󰌾  Enter password"
    color = rgba(166, 173, 200, 1.0)     # subtle
    font_size = 12
    font_family = "JetBrainsMono Nerd Font, Inter, Noto Sans"
    position = 0, 16
    halign = center
    valign = center
}

# Minimal input field styled like a Waybar pill
input-field {
    # monitor =
    size = 420, 40
    position = 0, 70
    halign = center
    valign = center

    rounding = 10
    outline_thickness = 1

    inner_color = rgba(18, 18, 24, 0.85)
    outer_color = rgba(205, 214, 244, 0.12)  # faint border
    font_color  = rgba(205, 214, 244, 1.00)  # fg
    placeholder_text = "••••••••"

    # Dots for hidden input, Waybar-ish compact spacing
    hide_input = true
    dots_size = 0.20
    dots_spacing = 0.45
    dots_center = true
    fade_on_empty = false

    # States
    check_color = rgba(137, 180, 250, 1.0)  # accent
    fail_color  = rgba(243, 139, 168, 1.0)  # red
    fail_text   = "Authentication failed"

    font_family = "JetBrainsMono Nerd Font, Inter, Noto Sans"
}

# Tiny footer with hostname on bottom left, battery/time on right (waybar vibe)
label {
    text = cmd[update:5000] echo "  $(whoami)@$(hostname)"
    color = rgba(166, 173, 200, 1.0)
    font_size = 11
    font_family = "JetBrainsMono Nerd Font, Inter"
    position = 20, -20
    halign = left
    valign = bottom
}

label {
    text = cmd[update:5000] sh -c 'bat=$(cat /sys/class/power_supply/*/capacity 2>/dev/null | head -n1 || echo "-"); echo "󰁹  ${bat}%  |  $(date +%H:%M)"'
    color = rgba(166, 173, 200, 1.0)
    font_size = 11
    font_family = "JetBrainsMono Nerd Font, Inter"
    position = -20, -20
    halign = right
    valign = bottom
}
